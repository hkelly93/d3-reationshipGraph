"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_d3Collection=require("d3-collection"),_d3Selection=require("d3-selection"),d3Tip=function(){function d3Tip(vis){_classCallCheck(this,d3Tip),this.tipDirection=d3Tip.d3TipDirection(),this.tipOffset=d3Tip.d3TipOffset(),this.tipHtml=d3Tip.d3TipHtml(),this.node=d3Tip.initNode(),this.generateTip(vis),this.target=null,this.directionN=this.directionN.bind(this),this.directionS=this.directionS.bind(this),this.directionE=this.directionE.bind(this),this.directionW=this.directionW.bind(this),this.directionNW=this.directionNW.bind(this),this.directionNE=this.directionNE.bind(this),this.directionSW=this.directionSW.bind(this),this.directionSE=this.directionSE.bind(this),this.directionCallbacks=(0,_d3Collection.map)({n:this.directionN,s:this.directionS,e:this.directionE,w:this.directionW,nw:this.directionNW,ne:this.directionNE,sw:this.directionSW,se:this.directionSE}),this.directions=this.directionCallbacks.keys(),this.generateTip=this.generateTip.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this)}return _createClass(d3Tip,[{key:"generateTip",value:function(vis){this.svg=d3Tip.getSVGNode(vis),this.point=this.svg.createSVGPoint(),document.body.appendChild(this.node)}},{key:"getNode",value:function(){return null===this.node&&(this.node=d3Tip.initNode(),document.body.appendChild(this.node)),(0,_d3Selection.select)(this.node)}},{key:"getScreenBBox",value:function(){for(var targetEl=this.target||event.target;"undefined"==typeof targetEl.getScreenCTM&&"undefined"===targetEl.parentNode;)targetEl=targetEl.parentNode;var bbox={},matrix=targetEl.getScreenCTM(),tbbox=targetEl.getBBox(),width=tbbox.width,height=tbbox.height,x=tbbox.x,y=tbbox.y;return this.point.x=x,this.point.y=y,bbox.nw=this.point.matrixTransform(matrix),this.point.x+=width,bbox.ne=this.point.matrixTransform(matrix),this.point.y+=height,bbox.se=this.point.matrixTransform(matrix),this.point.x-=width,bbox.sw=this.point.matrixTransform(matrix),this.point.y-=height/2,bbox.w=this.point.matrixTransform(matrix),this.point.x+=width,bbox.e=this.point.matrixTransform(matrix),this.point.x-=width/2,this.point.y-=height/2,bbox.n=this.point.matrixTransform(matrix),this.point.y+=height,bbox.s=this.point.matrixTransform(matrix),bbox}},{key:"directionN",value:function(){var bbox=this.getScreenBBox();return{top:bbox.n.y-this.node.offsetHeight,left:bbox.n.x-this.node.offsetWidth/2}}},{key:"directionS",value:function(){var bbox=this.getScreenBBox();return{top:bbox.s.y,left:bbox.s.x-this.node.offsetWidth/2}}},{key:"directionE",value:function(){var bbox=this.getScreenBBox();return{top:bbox.e.y-this.node.offsetHeight/2,left:bbox.e.x}}},{key:"directionW",value:function(){var bbox=this.getScreenBBox();return{top:bbox.w.y-this.node.offsetHeight/2,left:bbox.w.x-this.node.offsetWidth}}},{key:"directionNW",value:function(){var bbox=this.getScreenBBox();return{top:bbox.nw.y-this.node.offsetHeight,left:bbox.nw.x-this.node.offsetWidth}}},{key:"directionNE",value:function(){var bbox=this.getScreenBBox();return{top:bbox.nw.y-this.node.offsetHeight,left:bbox.nw.x-this.node.offsetWidth}}},{key:"directionSW",value:function(){var bbox=this.getScreenBBox();return{top:bbox.sw.y,left:bbox.sw.x-this.node.offsetWidth}}},{key:"directionSE",value:function(){var bbox=this.getScreenBBox();return{top:bbox.se.y,left:bbox.e.x}}},{key:"show",value:function(){var args=Array.prototype.slice.call(arguments);args[args.length-1]instanceof SVGElement&&(this.target=args.pop());var content=this.tipHtml(args[0]),pOffset=this.tipOffset(),nodel=this.getNode(),scrollTop=document.documentElement.scrollTop||document.body.scrollTop,scrollLeft=document.documentElement.scrollLeft||document.body.scrollLeft,coords=void 0,dir=this.direction.apply(this,args),i=this.directions.length;nodel.html(content).style("position","absolute").style("opacity",1).style("pointer-events","all");var node=nodel._groups?nodel._groups[0][0]:nodel[0][0],nodeWidth=node.clientWidth,nodeHeight=node.clientHeight,windowWidth=window.innerWidth,windowHeight=window.innerHeight,elementCoords=d3Tip.getPageTopLeft(args[2][args[1]]),breaksTop=elementCoords.top-nodeHeight<0,breaksLeft=elementCoords.left-nodeWidth<0,breaksRight=elementCoords.right+nodeHeight>windowWidth,breaksBottom=elementCoords.bottom+nodeHeight>windowHeight;for(breaksTop&&!breaksRight&&!breaksBottom&&breaksLeft?dir="e":!breaksTop||breaksRight||breaksBottom||breaksLeft?breaksTop&&breaksRight&&!breaksBottom&&!breaksLeft?dir="w":breaksTop||breaksRight||breaksBottom||!breaksLeft?!breaksTop&&!breaksRight&&breaksBottom&&breaksLeft?dir="e":breaksTop||breaksRight||!breaksBottom||breaksLeft?!breaksTop&&breaksRight&&breaksBottom&&!breaksLeft?dir="n":breaksTop||!breaksRight||breaksBottom||breaksLeft||(dir="w"):dir="e":dir="e":dir="s",this.direction(dir);i--;)nodel.classed(this.directions[i],!1);return coords=this.directionCallbacks.get(dir)(),nodel.classed(nodel,!0).style("top",coords.top+pOffset[0]+scrollTop+"px").style("left",coords.left+pOffset[1]+scrollLeft+"px"),this}},{key:"hide",value:function(){var nodel=this.getNode();return nodel.style("opacity",0).style("pointer-events","none"),this}},{key:"attr",value:function(n){if(arguments.length<2&&"string"==typeof n)return this.getNode().attr(n);var args=Array.prototype.slice.call(arguments);return _d3Selection.selection.prototype.attr.apply(this.getNode(),args),this}},{key:"style",value:function(n){if(arguments.length<2&&"string"==typeof n)return this.getNode().style(n);var args=Array.prototype.slice.call(arguments);if(1===args.length)for(var styles=args[0],keys=Object.keys(styles),key=0;key<keys.length;key++)_d3Selection.selection.prototype.style.apply(this.getNode(),styles[key]);return this}},{key:"direction",value:function(v){return arguments.length?(this.tipDirection=null==v?v:d3Tip.functor(v),this):this.tipDirection}},{key:"offset",value:function(v){return arguments.length?(this.tipOffset=null==v?v:d3Tip.functor(v),this):this.tipOffset}},{key:"html",value:function(v){return arguments.length?(this.tipHtml=null==v?v:d3Tip.functor(v),this):this.tipHtml}},{key:"destroy",value:function(){return this.node&&(this.getNode().remove(),this.node=null),this}}],[{key:"d3TipDirection",value:function(){return"n"}},{key:"d3TipOffset",value:function(){return[0,0]}},{key:"d3TipHtml",value:function(){return" "}},{key:"initNode",value:function(){var node=(0,_d3Selection.select)(document.createElement("div"));return node.style("position","absolute").style("top",0).style("opacity",0).style("pointer-events","none").style("box-sizing","border-box"),node.node()}},{key:"getPageTopLeft",value:function(el){var rect=el.getBoundingClientRect(),docEl=document.documentElement;return{top:rect.top+(window.pageYOffset||docEl.scrollTop||0),right:rect.right+(window.pageXOffset||0),bottom:rect.bottom+(0|window.pageYOffset),left:rect.left+(window.pageXOffset||docEl.scrollLeft||0)}}},{key:"functor",value:function(val){return"function"==typeof val?val:function(){return val}}},{key:"getSVGNode",value:function(el){return el=el.node(),"svg"===el.tagName.toLowerCase()?el:el.ownerSVGElement}}]),d3Tip}(),RelationshipGraph=function(){function RelationshipGraph(selection){var userConfig=arguments.length<=1||void 0===arguments[1]?{showTooltips:!0,maxChildCount:0,thresholds:[]}:arguments[1];if(_classCallCheck(this,RelationshipGraph),userConfig.thresholds){if("object"!==_typeof(userConfig.thresholds))throw"Thresholds must be an Object."}else userConfig.thresholds=[];void 0!==userConfig.onClick?(this.parentPointer=void 0!==userConfig.onClick.parent,this.childPointer=void 0!==userConfig.onClick.child):(this.parentPointer=!1,this.childPointer=!1);var defaultOnClick={parent:RelationshipGraph.noop,child:RelationshipGraph.noop};this.configuration={blockSize:24,selection:selection,showTooltips:userConfig.showTooltips,maxChildCount:userConfig.maxChildCount||0,onClick:userConfig.onClick||defaultOnClick,showKeys:userConfig.showKeys,thresholds:userConfig.thresholds,colors:userConfig.colors||RelationshipGraph.getColors(),transitionTime:userConfig.transitionTime||1500,truncate:userConfig.truncate||0,sortFunction:userConfig.sortFunction||RelationshipGraph.sortJson,valueKeyName:userConfig.valueKeyName};for(var i=0;i<this.configuration.colors.length;i++){var color=this.configuration.colors[i];color.indexOf("#")<0&&"string"==typeof color&&6===color.length&&!isNaN(parseInt(color,16))&&(color="#"+color,this.configuration.colors[i]=color)}void 0===this.configuration.showTooltips&&(this.configuration.showTooltips=!0),void 0===this.configuration.showKeys&&(this.configuration.showKeys=!0),void 0===this.configuration.keyValueName&&(this.configuration.keyValueName="value"),this.configuration.thresholds.length&&"number"==typeof this.configuration.thresholds[0]&&this.configuration.thresholds.sort(function(a,b){return a-b}),this.measurementDiv=document.createElement("div"),this.measurementDiv.className="relationshipGraph-measurement",document.body.appendChild(this.measurementDiv),this.measuredCache={},this.representation=[],this._spacing=1,this._d3V4=!!this.configuration.selection._groups;var _this=this,createTooltip=function(self){var hiddenKeys=["_PRIVATE_","PARENT","PARENTCOLOR","SETNODECOLOR","SETNODESTROKECOLOR"],showKeys=self.configuration.showKeys;return new d3Tip(_this.configuration.selection.append("svg")).attr("class","relationshipGraph-tip").offset([-8,10]).html(function(obj){for(var keys=Object.keys(obj),table=document.createElement("table"),count=keys.length,rows=[];count--;){var element=keys[count],upperCaseKey=element.toUpperCase();if(!RelationshipGraph.contains(hiddenKeys,upperCaseKey)&&!upperCaseKey.startsWith("__")){var row=document.createElement("tr"),key=showKeys?document.createElement("td"):null,value=document.createElement("td");if(showKeys&&(key.innerHTML=element.charAt(0).toUpperCase()+element.substring(1),row.appendChild(key)),"VALUE"==upperCaseKey&&!self.configuration.valueKeyName)continue;value.innerHTML=obj[element],value.style.fontWeight="normal",row.appendChild(value),rows.push(row)}}for(var rowCount=rows.length;rowCount--;)table.appendChild(rows[rowCount]);return table.outerHTML})};this.configuration.showTooltips?(this.tooltip=createTooltip(this),this.tooltip.direction("n")):this.tooltip=null,this.svg=this.configuration.selection.select("svg").select("g"),this.svg.empty()&&(this.svg=this.configuration.selection.append("svg").attr("width","500").attr("height","500").attr("style","display: block").append("g").attr("transform","translate(10, 0)")),this.graph=this}return _createClass(RelationshipGraph,[{key:"getId",value:function(){var selection=this.configuration.selection,parent=this._d3V4?selection._groups[0][0]:selection[0][0];return parent.id}},{key:"getPixelLength",value:function(str){if(RelationshipGraph.containsKey(this.measuredCache,str))return this.measuredCache[str];var text=document.createTextNode(str);this.measurementDiv.appendChild(text);var width=this.measurementDiv.offsetWidth;return this.measurementDiv.removeChild(text),this.measuredCache[str]=width,width}},{key:"assignIndexAndRow",value:function(json,parentSizes,parents){var longest="",parentNames=Object.keys(parentSizes),i=void 0,index=0,row=0,previousParent="",parentLength=parents.length,configuration=this.configuration,blockSize=configuration.blockSize,selection=configuration.selection;for(i=0;i<parentLength;i++){var current=parents[i]+" ( "+parentSizes[parentNames[i]]+") ";current.length>longest.length&&(longest=current)}var longestWidth=this.getPixelLength(longest),parentDiv=this._d3V4?selection._groups[0][0]:selection[0][0],calculatedMaxChildren=0===configuration.maxChildCount?Math.floor((parentDiv.parentElement.clientWidth-blockSize-longestWidth)/blockSize):configuration.maxChildCount,jsonLength=json.length,thresholds=configuration.thresholds;for(i=0;i<jsonLength;i++){var element=json[i],parent=element.parent;if(null!==previousParent&&previousParent!==parent?(element.__row=row+1,element.__index=1,index=2,row++):(index===calculatedMaxChildren+1&&(index=1,row++),element.__row=row,element.__index=index,index++),previousParent=parent,0===thresholds.length)element.__color=0;else{var value=void 0,compare=void 0;if("string"==typeof thresholds[0])value=element.value,compare=RelationshipGraph.stringCompare;else{var elementValue=element.value;value="number"==typeof elementValue?elementValue:parseFloat(elementValue.replace(/[^0-9-.]+/g,"")),compare=RelationshipGraph.numericCompare}var thresholdIndex=compare(value,thresholds);element.__color=thresholdIndex===-1?0:thresholdIndex,element.__colorValue=this.configuration.colors[element.__color%this.configuration.colors.length]}element.setNodeColor=function(color){this.__node||(this.__node=document.getElementById(this.__id)),this.__node&&(this.__node.style.fill=color)},element.setNodeStrokeColor=function(color){this.__node||(this.__node=document.getElementById(this.__id)),this.__node&&(this.__node.style.strokeWidth=color?"1px":0,this.__node.style.stroke=color?color:"")},element.__id=this.getId()+"-child-node"+element.__row+"-"+element.__index}return[longestWidth,calculatedMaxChildren,row]}},{key:"createParents",value:function(parentNodes,parentSizes,longestWidth,calculatedMaxChildren){var parentSizesKeys=Object.keys(parentSizes),_this=this;parentNodes.enter().append("text").text(function(obj,index){return obj+" ("+parentSizes[parentSizesKeys[index]]+")"}).attr("x",function(obj,index){var width=_this.getPixelLength(obj+" ("+parentSizes[parentSizesKeys[index]]+")");return longestWidth-width}).attr("y",function(obj,index){if(0===index)return 0;for(var previousParentSize=0,i=index-1;i>-1;)previousParentSize+=Math.ceil(parentSizes[parentSizesKeys[i]]/calculatedMaxChildren)*calculatedMaxChildren,i--;return Math.ceil(previousParentSize/calculatedMaxChildren)*_this.configuration.blockSize+_this._spacing*index}).style("text-anchor","start").style("fill",function(obj){return void 0!==obj.parentColor?_this.configuration.colors[obj.parentColor]:"#000000"}).style("cursor",this.parentPointer?"pointer":"default").attr("class","relationshipGraph-Text").attr("transform","translate(-6, "+_this.configuration.blockSize/1.5+")").on("click",function(obj){_this.configuration.onClick.parent(obj)})}},{key:"updateParents",value:function(parentNodes,parentSizes,longestWidth,calculatedMaxChildren){var parentSizesKeys=Object.keys(parentSizes),_this=this;parentNodes.text(function(obj,index){return obj+" ("+parentSizes[parentSizesKeys[index]]+")"}).attr("x",function(obj,index){var width=_this.getPixelLength(obj+" ("+parentSizes[parentSizesKeys[index]]+")");return longestWidth-width}).attr("y",function(obj,index){if(0===index)return 0;for(var previousParentSize=0,i=index-1;i>-1;)previousParentSize+=Math.ceil(parentSizes[parentSizesKeys[i]]/calculatedMaxChildren)*calculatedMaxChildren,i--;return Math.ceil(previousParentSize/calculatedMaxChildren)*_this.configuration.blockSize+_this._spacing*index}).style("fill",function(obj){return void 0!==obj.parentColor?_this.configuration.colors[obj.parentColor]:"#000000"}).style("cursor",_this.parentPointer?"pointer":"default")}},{key:"createChildren",value:function(childrenNodes,longestWidth){var _this=this;childrenNodes.enter().append("rect").attr("id",function(obj){return obj.__id}).attr("x",function(obj){return longestWidth+(obj.__index-1)*_this.configuration.blockSize+5+(_this._spacing*obj.__index-1)}).attr("y",function(obj){return(obj.__row-1)*_this.configuration.blockSize+(_this._spacing*obj.__row-1)}).attr("rx",4).attr("ry",4).attr("class","relationshipGraph-block").attr("width",_this.configuration.blockSize).attr("height",_this.configuration.blockSize).style("fill",function(obj){return obj.__colorValue}).style("cursor",_this.childPointer?"pointer":"default").on("mouseover",_this.tooltip?_this.tooltip.show:RelationshipGraph.noop).on("mouseout",_this.tooltip?_this.tooltip.hide:RelationshipGraph.noop).on("click",function(obj){_this.tooltip.hide(),_this.configuration.onClick.child(obj)})}},{key:"updateChildren",value:function(childrenNodes,longestWidth){var blockSize=this.configuration.blockSize,_this=this;childrenNodes.transition(this.configuration.transitionTime).attr("id",function(obj){return obj.__id}).attr("x",function(obj){return longestWidth+(obj.__index-1)*blockSize+5+(_this._spacing*obj.__index-1)}).attr("y",function(obj){return(obj.__row-1)*blockSize+(_this._spacing*obj.__row-1)}).style("fill",function(obj){return obj.__colorValue})}},{key:"removeNodes",value:function(nodes){nodes.exit().transition(this.configuration.transitionTime).remove()}},{key:"data",value:function(json){if(RelationshipGraph.verifyJson(json)){var parents=[],parentSizes={},configuration=this.configuration,row=0,parent=void 0,i=void 0,maxWidth=void 0,maxHeight=void 0,calculatedMaxChildren=0,longestWidth=0;configuration.sortFunction(json),this.representation=json;var jsonLength=json.length;for(i=0;i<jsonLength;i++)parent=json[i].parent,RelationshipGraph.containsKey(parentSizes,parent)?parentSizes[parent]++:(parentSizes[parent]=1,parents.push(RelationshipGraph.truncate(parent,configuration.truncate)));var _assignIndexAndRow=this.assignIndexAndRow(json,parentSizes,parents),_assignIndexAndRow2=_slicedToArray(_assignIndexAndRow,3);for(longestWidth=_assignIndexAndRow2[0],calculatedMaxChildren=_assignIndexAndRow2[1],row=_assignIndexAndRow2[2],maxHeight=row*configuration.blockSize,maxWidth=longestWidth+calculatedMaxChildren*configuration.blockSize,maxWidth+=this._spacing*calculatedMaxChildren,i=0;i<row;i++)maxHeight+=this._spacing*i;var parentNodes=this.svg.selectAll(".relationshipGraph-Text").data(parents);this.createParents(parentNodes,parentSizes,longestWidth,calculatedMaxChildren),this.updateParents(parentNodes,parentSizes,longestWidth,calculatedMaxChildren),this.removeNodes(parentNodes);var childrenNodes=this.svg.selectAll(".relationshipGraph-block").data(json);this.createChildren(childrenNodes,longestWidth),this.updateChildren(childrenNodes,longestWidth),this.removeNodes(childrenNodes),this.configuration.showTooltips&&((0,_d3Selection.select)(".d3-tip").remove(),this.svg.call(this.tooltip.generateTip)),this.configuration.selection.select("svg").attr("width",Math.abs(maxWidth+15)).attr("height",Math.abs(maxHeight+15))}return this}},{key:"search",value:function(query){var results=[],queryKeys=Object.keys(query),queryKeysLength=queryKeys.length;if(this.representation&&query)for(var length=this.representation.length,i=0;i<length;i++){for(var currentObject=this.representation[i],isMatch=!1,j=0;j<queryKeysLength;j++){var queryVal=query[queryKeys[j]];if(!(isMatch=currentObject[queryKeys[j]]==queryVal))break}isMatch&&results.push(currentObject)}return results}}],[{key:"getColors",value:function(){return["#c4f1be","#a2c3a4","#869d96","#525b76","#201e50","#485447","#5b7f77","#6474ad","#b9c6cb","#c0d6c1","#754668","#587d71","#4daa57","#b5dda4","#f9eccc","#0e7c7b","#17bebb","#d4f4dd","#d62246","#4b1d3f","#cf4799","#c42583","#731451","#f3d1bf","#c77745"]}},{key:"containsKey",value:function(obj,key){return Object.keys(obj).indexOf(key)>-1}},{key:"contains",value:function(arr,key){return arr.indexOf(key)>-1}},{key:"truncate",value:function(str,cap){return cap&&str&&str.length>cap?str.substring(0,cap)+"...":str}},{key:"isArray",value:function(arr){return"[object Array]"==Object.prototype.toString.call(arr)}},{key:"noop",value:function(){}},{key:"sortJson",value:function(json){json.sort(function(child1,child2){var parent1=child1.parent.toLowerCase(),parent2=child2.parent.toLowerCase();return parent1>parent2?1:parent1<parent2?-1:0})}},{key:"stringCompare",value:function(value,thresholds){if("string"!=typeof value)throw"Cannot make value comparison between a string and a "+("undefined"==typeof value?"undefined":_typeof(value))+".";if(!thresholds||!thresholds.length)throw"Cannot find correct threshold because there are no thresholds.";for(var thresholdsLength=thresholds.length,i=0;i<thresholdsLength;i++)if(value==thresholds[i])return i;return-1}},{key:"numericCompare",value:function(value,thresholds){if("number"!=typeof value)throw"Cannot make value comparison between a number and a "+("undefined"==typeof value?"undefined":_typeof(value))+".";if(!thresholds||!thresholds.length)throw"Cannot find correct threshold because there are no thresholds.";for(var length=thresholds.length,i=0;i<length;i++)if(value<=thresholds[i])return i;return-1}},{key:"verifyJson",value:function(json){if(!RelationshipGraph.isArray(json)||json.length<0||"object"!==_typeof(json[0]))throw"JSON has to be an Array of JavaScript objects that is not empty.";for(var length=json.length;length--;){var element=json[length],keys=Object.keys(element),keyLength=keys.length,parentColor=element.parentColor;if(void 0===element.parent)throw"Child does not have a parent.";if(void 0!==parentColor&&(parentColor>4||parentColor<0))throw"Parent color is unsupported.";for(;keyLength--;)if("VALUE"==keys[keyLength].toUpperCase()){"value"!=keys[keyLength]&&(json[length].value=json[length][keys[keyLength]],delete json[length][keys[keyLength]]);break}}return!0}}]),RelationshipGraph}();exports["default"]=RelationshipGraph,window.RelationshipGraph=RelationshipGraph,window.d3&&(window.d3.relationshipGraph=function(){return RelationshipGraph.extend.apply(RelationshipGraph,arguments)},window.d3.selection.prototype.relationshipGraph=function(userConfig){return new RelationshipGraph(this,userConfig)});